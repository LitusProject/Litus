{% extends 'site/base.twig' %}

{% block content %}
    <div class="page-header">
        <h1>{{ translate('My Course Reservations') }}</h1>
    </div>

    <div class="row page">
        <div class="span12">
            {% if authenticatedPerson == null %}
				{{ translate('Please log in to view your course reservations.') }}
			{% else %}
            	<table class="table">
            		<tr>
            			<th> {{ translate('Article') }} </th>
            			<th> {{ translate('Authors') }} </th>
            			<th> {{ translate('Price / piece') }} </th>
            			<th> # </th>
            			<th> {{ translate('Expiration Date') }} </th>
            			<th> {{ translate('Status') }} </th>
            			<th> {{ translate('Actions') }} </th>
        			</tr>
        			{% for booking in bookings %}
	            		<tr>
	            			<td> {{ booking.getArticle().getMainArticle().getTitle() }} </td>
	            			<td> {{ booking.getArticle().getMainArticle().getAuthors() }} </td>
	            			<td> â‚¬ {{ booking.getArticle().getSellPrice() }} </td>
	            			<td> {{ booking.getNumber() }} </td>
	            			<td> {{ booking.getExpirationDate().format('D d/m/Y') }} </td>
	            			<td> {{ translate(booking.getStatus()) }} </td>
	            			<td> Cancel </td>
	        			</tr>
        			{% endfor %}
            	</table>
            	
            	<div id="debug">
            		# Bookings = {{ sizeof(bookings) }}
            	</div>
            	
            {% endif %}
        </div>
    </div>
{% endblock %}