{% extends 'admin/base.twig' %}

{% block content %}
	{% include 'admin_sales_booking/partials/navigation.twig' %}
	
	{% include 'admin/partials/flashMessenger.twig' %}
	
	{% include 'admin_sales_booking/partials/periods.twig' %}

	<div id="controller_action">
	    <div id="booking_search" style="display:none;">
	    	<div style="padding:4px;text-align:right">
	    		Search: 
	    		<select id="searchField">
	    			<option value="title">Article</option>
	    			<option value="author">Person</option>
	    			<option value="publisher">Status</option>
	    		</select>
	    		is
	    		<input type="text" id="searchString" size="30" />
	    	</div>
	    	
	    	<table class="full_width">
	        	<tr>
		            <th width="140px">Person</th>
	            	<th>Article</th>
		            <th width="30px">&nbsp;</th>
	            	<th width="100px">Date</th>
	            	<th width="55px">Status</th>
	    		</tr>
	    	</table>
	    </div>
	    
		<div id="default_page">
			<table class="full_width">
		        <tr>
		            <th width="140px">Person</th>
		            <th>Article</th>
		            <th width="30px">&nbsp;</th>
		            <th width="100px">Date</th>
		            <th width="55px">Status</th>
		        </tr>
		        
		        {% for booking in paginator %}
		            <tr class="item">
		                <td>{{ booking.getPerson().getFullName() }}</td>
		                <td>{{ booking.getArticle().getMainArticle().getTitle() }}</td>
		                <td>&times;{{ booking.getNumber() }}</td>
		                <td>{{ booking.getBookDate().format('d/m/Y H:i') }}</td>
		                <td class="status">{{ booking.getStatus()|capitalize }}</td>
		            </tr>
		        {% endfor %}
		    </table>
	
	        {% set paginationParams = {'period': activePeriod.getId() } %}
			{% include 'admin/partials/paginationControl.twig' %}
		</div>
	</div>
{% endblock %}