{% extends 'admin/base.twig' %}

{% block content %}
	{% include 'admin_article/partials/navigation.twig' %}
		
	{% include 'admin/partials/flashMessenger.twig' %}
	<div id="controller_action">
		<h1>Article</h1>
		
		<p>Title: <b>{{ article.getTitle() }} {% if article.getVersionNumber() != 1 %} (v{{ article.getVersionNumber() }}) {% endif %}</b></p>
		<p>Author: <b>{{ article.getMetaInfo().getAuthors() }}</b></p>
		<p>Publisher: <b>{{ article.getMetaInfo().getPublishers() }}</b></p>
		<br />
		
		{% autoescape false %}
			{{ form }}
		{% endautoescape %}
		<br style="clear:both"/>
			
		<table class="full_width" id="articleComments">
	        <tr>
	            <th>Date</th>
	            <th>Person</th>
	            <th>Summary</th>
	            <th width="150px">Action</th>
	        </tr>
	
	        {% for comment in comments %}
	            <tr class="item">
	                <td>{{ comment.getDate().format('d/m/Y H:i') }}</td>
	                <td>{{ comment.getPerson().getFullName() }}</td>
	                <td>{{ comment.getSummary() }}</td>
					<td>
						<a class="view" href="{{ url('admin_comment', {"action": "view", "id": comment.getId()}) }}">View</a>
	                </td>
	            </tr>
	        {% endfor %}
	    </table>
	</div>
{% endblock %}