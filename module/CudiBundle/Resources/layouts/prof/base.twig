{{ doctype() }}

<html lang="en" class="h-100">
    <head>
        {{ headMeta() }}
        {{ headTitle('Prof', 'PREPEND') }}

        {{ headLink() }}
        {{ assets('cudi_prof') }}
    </head>

    <body class="d-flex flex-column h-100">
        <header>
            <nav class="navbar navbar-expand fixed-top navbar-dark bg-dark">
                <div class="container">
                    <span class="navbar-brand" href="#">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </span>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbar">
                        <ul class="navbar-nav mr-auto">
                            {% if hasAccess('cudi_prof_index', 'index') %}
                                <li class="nav-item {% if 'index' == getParam('action') and 'cudi_prof_index' == getParam('controller') %}active{% endif %}">
                                    <a class="nav-link" href="{{ url("cudi_prof_index", {"language": language.getAbbrev()}) }}">{{ translate('Home') }}</a>
                                </li>
                            {% endif %}
                            {% if hasAccess('cudi_prof_subject', 'manage') %}
                                <li class="nav-item {% if 'cudi_prof_subject' == getParam('controller') or 'cudi_prof_subject_comment' == getParam('controller') or 'cudi_prof_prof' == getParam('controller') %}active{% endif %}">
                                    <a class="nav-link" href="{{ url("cudi_prof_subject", {"language": language.getAbbrev()}) }}">{{ translate('Subjects') }}</a>
                                </li>
                            {% endif %}
                            {% if hasAccess('cudi_prof_article', 'manage') %}
                                <li class="nav-item {% if 'cudi_prof_article' == getParam('controller') or 'cudi_prof_article_comment' == getParam('controller') or 'cudi_prof_file' == getParam('controller') or 'cudi_prof_article_mapping' == getParam('controller') %}active{% endif %}">
                                    <a class="nav-link" href="{{ url("cudi_prof_article", {"language": language.getAbbrev()}) }}">{{ translate('Articles') }}</a>
                                </li>
                            {% endif %}
                            {% if hasAccess('cudi_prof_help', 'index') %}
                                <li class="nav-item {% if 'cudi_prof_help' == getParam('controller') %}active{% endif %}">
                                    <a class="nav-link" href="{{ url("cudi_prof_help", {"language": language.getAbbrev()}) }}">{{ translate('Help') }}</a>
                                </li>
                            {% endif %}
                        </ul>

                        <ul class="navbar-nav">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">Language</a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    {% for language in languages %}
                                        <a class="dropdown-item" href="{{ url("cudi_prof_index", {"language": language.getAbbrev()}) }}">{{ translate(language.getName()) }}</a>
                                    {% endfor %}
                                </div>
                            </li>

                            <li class="nav-item dropdown">
                                {% if authenticatedPerson is not null %}
                                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">
                                        <i class="fas fa-user"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item" href="#">
                                            <b>{{ authenticatedPerson.getFullName() }}</b>
                                            <small>{{ authenticatedPerson.getUniversityIdentification() }}</small>
                                        </a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="{{ url("cudi_prof_auth", {"action": "logout", "language": language.getAbbrev()}) }}">{{ translate('Logout') }}</a>
                                    </ul>
                                </li>
                                {% else %}
                                    <a class="nav-link" href="{{ shibbolethUrl }}">{{ translate('Login') }}</a>
                                {% endif %}
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>

            <div class="hero mb-5">
                <div class="container">
                    <h1 class="text-light py-5">Prof</h1>
                </div>
            </div>
        </header>

        <main class="flex-shrink-0 {% if showHeader|default(1) == 0 %}mt-5{% endif %}">
            <div class="container">
                {% include 'prof/partials/flashMessenger.twig' %}

                <div id="content_controller">
                    {% block content %} {% endblock %}
                </div>
            </div>
        </main>

        <footer class="mx-auto mt-auto py-3">
            <div class="container">
                <span class="text-muted">
                    Litus Prof | Code by <a href="http://litus.cc">Litus</a>
                </span>
            </div>
        </footer>

        {{ inlineScript() }}

        {% block content_script %}{% endblock %}
    </body>
</html>
