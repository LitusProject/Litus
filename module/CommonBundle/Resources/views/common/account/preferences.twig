{% extends 'site/base.twig' %}

{% block content %}
    <div class="page-alert">
        <div class="flashmessage alert alert-success fade" id="subjects_saved_success">
            <button type="button" class="close">&times;</button>
            <div class="content">
                {{ translate('Your newsletter preferences were successfully saved!') }}
            </div>
        </div>
        <div class="flashmessage alert alert-danger alert-fixed-top fade" id="subjects_saved_error">
            <button type="button" class="close">&times;</button>
            <div class="content">
                {{ translate('An error occurred while saving your newsletter preferences!') }}
            </div>
        </div>
    </div>

    <div class="container">
        <div class="spacer40"></div>
        <h1>{{ translate('Account') }} <small>&mdash; {{ translate('Newsletter Preferences') }}</small></h1>
        <div class="lineDecoration"></div>

        <div style="height: 50px"></div>

        <h3>
            {{ translate('Choose Your Newsletter Preferences') }}
        </h3>
        {% for preference in preferences %}
            <div class="checkbox">
                <label>
                    <input type="checkbox" class="subject_enroll" data-id="{{ preference.getId() }}" {% if preference.getValue() %}checked="checked"{% endif %}"> {{ preference.getSection.getName() }}
                </label>
            </div>
        {% endfor %}

    </div>
{% endblock %}