<?php

namespace CommonBundle\Repository\Users\Shibboleth;

use Doctrine\ORM\EntityRepository;

/**
 * Code
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class Code extends EntityRepository
{
    public function findOnePersonByCode($code)
    {
        $code = $this->findOneByCode($code);
        
        return $this->_em
            ->getRepository('CommonBundle\Entity\Users\People\Academic')
            ->findOneByUniversityIdentification($code->getUniversityIdentification());
    }
}
