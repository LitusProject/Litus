{% extends 'corporate/partials/cv.twig' %}

{% block cv_content %}
    <div class="panel-group" id="accordion">
        {% for study in studies %}
            <div class="panel panel-default panel-study">
                <div class="panel-heading">
                    <a class="panel-title study-toggle" data-target="body-study-{{ study.id }}" href="#" onclick="event.preventDefault();">
                        {{ study.name }}
                    </a>
                </div>
                <div id="body-study-{{ study.id }}" style="display: none;">
                    <div class="panel-body">
                        <div class="panel-group" id="accordion-study-{{ study.id }}">
                            {% for entry in study.entries %}
                                <div class="panel panel-default panel-group-entry" id="accordion-group-{{ entry.getId() }}">
                                    <div class="panel-heading">
                                        <a class="panel-title entry-toggle" data-target="body-entry-{{ entry.getId() }}" href="#" onclick="event.preventDefault();">
                                            {{ entry.getFirstName() }} {{ entry.getLastName() }}
                                        </a>
                                    </div>
                                    <div id="body-entry-{{ entry.getId() }}">
                                        <div class="panel-body" style="display: none;">
                                            {% import 'corporate/partials/showcv.twig' as cv %}
                                            {{ cv.displayEntry(entry, profilePath, gradesMapEnabled, gradesMap) }}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
