{% extends 'corporate/base.twig' %}

{% block content %}
    <div class="container">

        <div style="height: 40px"></div>

        <h2>{{ translate("Your Matching Profile") }}</h2>
        <div class="pageTitleDeco"></div>

        <div style="height: 20px"></div>

        <div class="br-blueBanner" style="padding: 20px;">
            <h3 style="color:white;">{{ translate('Find your match with our students!') }}</h3>
            <p style="color: white;font-size: 13px;">{{ bannerText }}</p>
            <div style="height: 20px;"></div>
            {% if needs_sp and needs_cp %}
                <div><b>{{ translate('You are not ready to match yet!') }}</b><br>{{ translate('Please create your Profile so you can start matching!') }}</div>
            {% elseif needs_sp or needs_cp %}
                <div><b>{{ translate('You are not ready to match yet!') }}</b><br>{{ translate('Please finish creating your Profile so you can start matching!') }}</div>
            {% endif %}

            {% if needs_cp %}
                <a class="button yellow unfilled" href="{{ url('br_corporate_match', {'action': 'addProfile', 'type': 'company' }) }}">{{ translate('Create Profile') }}</a>
            {% elseif needs_sp %}
                <a class="button yellow unfilled" href="{{ url('br_corporate_match', {'action': 'addProfile', 'type': 'student' }) }}">{{ translate('Create Profile') }}</a>
            {% else %}
                <a class="button yellow unfilled" href="{{ url('br_corporate_match', {'action': 'viewProfile' }) }}">{{ translate('View Profile') }}</a>
            {% endif %}
        </div>

        <div style="height: 20px;"></div>
        <h2>Matches</h2>
        <div class="pageTitleDeco"></div>
        <div style="height: 20px"></div>
        {% include 'br/corporate/match/partials/navigation.twig' %}
        <div style="height: 20px"></div>

        <div class="row">
            <div class="col-md-12">
                <table class="table table-hover full-width">
                    {% for match in matches %}
                        <tr>
                            <td>
                                <strong>{{ match.getStudent().getFullName() }}</strong>
                                <br/>
                                {{ match.getStudent().getEMail() }}
                                <br/>
                                {{ match.getMatchPercentage() }} %
                            </td>
                            <td width="230" style="vertical-align: middle;">
                                <a class="button blue unfilled" href="{{ url('br_corporate_match', {'action': 'viewMatch', 'id': match.getId() }) }}">{{ translate('View Match') }}</a>
                                <a class="button blue" href="{{ url('br_corporate_match', {'action': 'viewMatch', 'id': match.getId() }) }}">{{ translate('View CV') }}</a>
                            </td>

                        </tr>
                    {% else %}
                        <p>{{ translate('No matches were found...') }}</p>
                    {% endfor %}
                </table>

                {% include 'site/partials/paginationControl.twig' %}
            </div>
        </div>
    </div>
    </div>

{% endblock %}
